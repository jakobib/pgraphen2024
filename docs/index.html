<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Property-Graphen: eine kurze Einführung</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<meta name="citation_title" content="Property-Graphen: eine kurze Einführung">
<meta name="citation_author" content="Jakob Voß">
<meta name="citation_publication_date" content="2024-04-24">
<meta name="citation_cover_date" content="2024-04-24">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-04-24">
<meta name="citation_fulltext_html_url" content="https://jakobib.github.io/pgraphen2024/">
<meta name="citation_issue" content="1">
<meta name="citation_doi" content="10.5281/zenodo.10971391">
<meta name="citation_volume" content="2024">
<meta name="citation_language" content="de">
<meta name="citation_journal_title" content="VZG Aktuell">
<meta name="citation_reference" content="citation_title=Property Graph Exchange Format Specification;,citation_author=Chiba Voß;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_fulltext_html_url=https://github.com/pg-format/specification;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Property-Graphen: eine kurze Einführung</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Autor:in</div>
          <div class="quarto-title-meta-heading">Zugehörigkeit</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Jakob Voß </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        <a href="https://www.gbv.de/">
                        Verbundzentrale des GBV (VZG)
                        </a>
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
            <div class="quarto-title-meta-contents">
              <p class="date">24. April 2024</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Andere Formate</div><div class="quarto-title-meta-contents"><p><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></p></div><div class="quarto-title-meta-contents"><p><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></p></div></div></div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#beispiel" id="toc-beispiel" class="nav-link active" data-scroll-target="#beispiel">Beispiel</a></li>
  <li><a href="#property-graph-datenbanken" id="toc-property-graph-datenbanken" class="nav-link" data-scroll-target="#property-graph-datenbanken">Property-Graph-Datenbanken</a></li>
  <li><a href="#property-graph-exchange-format" id="toc-property-graph-exchange-format" class="nav-link" data-scroll-target="#property-graph-exchange-format">Property Graph Exchange Format</a></li>
  <li><a href="#vergleich-mit-rdf" id="toc-vergleich-mit-rdf" class="nav-link" data-scroll-target="#vergleich-mit-rdf">Vergleich mit RDF</a></li>
  <li><a href="#property-graphen-an-der-vzg" id="toc-property-graphen-an-der-vzg" class="nav-link" data-scroll-target="#property-graphen-an-der-vzg">Property Graphen an der VZG</a></li>
  <li><a href="#zusammenfassung" id="toc-zusammenfassung" class="nav-link" data-scroll-target="#zusammenfassung">Zusammenfassung</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<p>Zu den Tätigkeiten der Stabstelle Forschung und Entwicklung der VZG gehört auch das Ausprobieren und Evaluieren neuer Verfahren und Techniken. So kommt es, dass ich mich seit Anfang 2024, angeregt durch einen Anwendungsfall im Projekt NFDI4Objects, verstärkt mit so genannten Property-Graphen zur Strukturierung und Verarbeitung von (Meta)daten beschäftige.</p>
<p>Property-Graphen (oft auch <em>Labeled-Property-Graphen</em>) fallen als Datenbankmodell unter die sogenannten NoSQL-Datenbanken, spezieller betrachtet unter die Graphdatenbanken. Hierbei werden Daten nicht wie bei SQL in Form von Tabellen sondern in Form von Graphen aus <em>Knoten</em> gespeichert, die durch <em>Kanten</em> miteinander verbunden sind. Eine Besonderheit von Property-Graphen ist, dass sowohl Knoten als auch Kanten jeweils ein oder mehrere <em>Labels</em> haben und mit <em>Eigenschaften</em> versehen werden können.</p>
<section id="beispiel" class="level2">
<h2 class="anchored" data-anchor-id="beispiel">Beispiel</h2>
<p>Zur Veranschaulichung soll folgende Sammlung einiger Charaktere, Beziehungen und Eigenschaften aus dem Star-Wars-Universum dienen: Padmé, Anakin und Luke sind Personen unterschiedlichen Geschlechts und R2D2 ist ein Roboter. In Episode 1 gehört R2D2 zu Padmé, die ihn in Episode 2 Anakin zu ihrer gemeinsamen Hochzeit schenkt, und in Episode 4 gelangt der Roboter zu Luke, der in Episode 3 als Kind von Padmé und Anakin geboren wurde.</p>
<p>Diese Informationen lassen sich in einem Property-Graphen mit Charakteren als Knoten und ihren Beziehungen als Kanten modellieren. <a href="#fig-image" class="quarto-xref">Abbildung&nbsp;1</a> zeigt eine mögliche Visualisierung dieses Graphen. Darin sind Knoten-Identifier fett hervorgehoben, Labels kursiv und Eigenschaften in Festbreitenschriftart. Bis auf die Beziehung zwischen Padmé und Anakin sind alle Kanten gerichtet.</p>
<div class="cell" data-fig-width="100%" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-image" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-image-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-image">flowchart LR
   Padme["&lt;b&gt;Padmé&lt;/b&gt;&lt;br&gt;&lt;i&gt;person&lt;/i&gt;&lt;br&gt;&lt;tt&gt;gender:female&lt;/tt&gt;"]
   Anakin["&lt;b&gt;Anakin&lt;/b&gt;&lt;br&gt;&lt;i&gt;person&lt;/i&gt;&lt;br&gt;&lt;tt&gt;gender:male&lt;/tt&gt;"]              
   Luke["&lt;b&gt;Luke&lt;/b&gt;&lt;br&gt;&lt;i&gt;person&lt;/i&gt;&lt;br&gt;&lt;tt&gt;gender:male&lt;/tt&gt;"]
   R2D2["&lt;b&gt;R2D2&lt;/b&gt;&lt;br&gt;&lt;i&gt;robot&lt;/i&gt;"]
   Padme -- "&lt;i&gt;owns&lt;/i&gt;&lt;br&gt;&lt;tt&gt;episode:1&lt;/tt&gt;" --&gt; R2D2
   Padme -- "&lt;i&gt;marriage&lt;i&gt;&lt;br&gt;&lt;tt&gt;episode:2&lt;/tt&gt;" --- Anakin
   Anakin -- "&lt;i&gt;owns&lt;/i&gt;&lt;br&gt;&lt;tt&gt;episode:2&lt;/tt&gt;" --&gt; R2D2
   Anakin -- "&lt;i&gt;child&lt;/i&gt;&lt;br&gt;&lt;tt&gt;episode:3&lt;/tt&gt;" --&gt; Luke
   Padme -- "&lt;i&gt;child&lt;/i&gt;&lt;br&gt;&lt;tt&gt;episode:3&lt;/tt&gt;" --&gt; Luke      
   Luke -- "&lt;i&gt;owns&lt;/i&gt;&lt;br&gt;&lt;tt&gt;episode:4&lt;/tt&gt;" --&gt; R2D2
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-image-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;1: Visualisierung des Beispiel-Graphen
</figcaption>
</figure>
</div>
</div>
</div>
<p>Zur Kodierung von Property-Graphen gibt es verschiedene Datenformate und Datenbanksysteme, die sich in Details wie den erlaubten Zeichen in Identifiern, der Wiederholbarkeit von Labels und Eigenschaften und in möglichen Datentypen von Eigenschaftswerten (im Beispiel Zeichenkette für die Eigenschaft <code>gender</code> und Zahl für die Eigenschaft <code>episode</code>) unterscheiden. Im Folgenden werden zwei mögliche Kodierungen vorgestellt und Gemeinsamkeiten und Unterschiede zum RDF-Format erklärt.</p>
</section>
<section id="property-graph-datenbanken" class="level2">
<h2 class="anchored" data-anchor-id="property-graph-datenbanken">Property-Graph-Datenbanken</h2>
<p>Etabliert wurden Property-Graphen insbesondere durch das Datenbankmanagementsystem (DBMS) <a href="https://neo4j.com/">Neo4J</a>. Die Open-Source-Software war lange Marktführer in diesem Bereich und setzte dort Standards wie die Abfragesprache <em>Cypher</em> (siehe <a href="#lst-cypher" class="quarto-xref">Listing&nbsp;1</a> und <a href="#lst-match" class="quarto-xref">Listing&nbsp;2</a>), die inzwischen auch von anderen Systemen unterstützt wird. Dazu zählen derzeit die Open-Source-DBMS <a href="https://kuzudb.com/">Kùzu</a>, <a href="https://memgraph.com/">Memgraph</a> und <a href="https://www.falkordb.com/">FalkorDB</a>. Im letzten Update des SQL-Standard (SQL:2023) wurde zudem unter dem Namen SQL/PGQ eine Erweiterung für Property-Graphen in SQL-Datenbanken definiert. Es ist also davon auszugehen, dass in Zukunft weitere Datenbankmanagementsysteme Property-Graphen unterstützen.</p>
<p>Der Beispielgraph kann in Neo4J oder in einer damit kompatiblen Datenbank mit den Cypher-Statements in <a href="#lst-cypher" class="quarto-xref">Listing&nbsp;1</a> angelegt werden. Da Knoten-Identifier in der Datenbank rein intern sind, sind die Namen zusätzlich als Eigenschaft <code>name</code> angegeben. Außerdem unterstützt Cypher nur gerichtete Kanten, weshalb die Beziehung zwischen Padmé und Anakin weggelassen worden ist.</p>
<div id="lst-cypher" class="cypher listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-cypher-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;1: Beispiel-Graph mit Cypher-Statements
</figcaption>
<div aria-describedby="lst-cypher-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-cypher" class="cypher"><code>CREATE (Anakin:person {gender:"male", name:"Anakin"})
CREATE (Luke:person {gender:"male", name:"Luke"})
CREATE (Padmé:person {gender:"female", name:"Padmé"})
CREATE (R2D2:robot {name:"R2D2"})
CREATE (Padmé)-[:owns {episode:1}]-&gt;(R2D2)
CREATE (Anakin)-[:owns {episode:2}]-&gt;(R2D2)
CREATE (Anakin)-[:child {episode:3}]-&gt;(Luke)
CREATE (Padmé)-[:child {episode:3}]-&gt;(Luke)
CREATE (Luke)-[:owns {episode:4}]-&gt;(R2D2)</code></pre>
</div>
</figure>
</div>
<p>Nun können die Daten mit Cypher-Abfragen ausgewertet werden (<a href="#lst-match" class="quarto-xref">Listing&nbsp;2</a>):</p>
<div id="lst-match" class="cypher listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;2: Abfragen in Cypher-Syntax
</figcaption>
<div aria-describedby="lst-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-match" class="cypher"><code># Wer sind die Eltern der Person mit dem Namen Luke?
MATCH (p)-[:child]-&gt;(:person {name:"Luke"}) RETURN p

# Wie heißen die Besitzer von R2D2 ab Episode 2?
MATCH (p)-[e:owns]-&gt;({name:"R2D2"}) WHERE e.episode &gt;= 2 RETURN p.name</code></pre>
</div>
</figure>
</div>
<p>Wie bei allen Datenbanken können die Abfrageergebnisse natürlich nur so gut sein wie die Datenbasis: so würde eine Frage nach den Kindern von Anakin nur Luke ergeben, weil seine Zwillingsschwester Leia im Beispiel-Graph fehlt. Grundsätzlich stellt die Modellierung von Property-Graphen aber ein leistungsfähiges und flexibels Werkzeug vor allem für semi-strukturierte und verknüpfte Daten dar.</p>
</section>
<section id="property-graph-exchange-format" class="level2">
<h2 class="anchored" data-anchor-id="property-graph-exchange-format">Property Graph Exchange Format</h2>
<p>Während die Standardisierung der Datenbanksprache Cypher relativ weit fortgeschritten ist, gibt es noch kein etabliertes Dateiformat zum Austausch von Property-Graphen. Zusammen mit den Wissenschaftlern Hirokazu Chiba, Ryota Yamanaka und Shota Matsumoto entwickele ich deshalb das <a href="https://pg-format.github.io/specification/"><em>Property Graph Exchange Format</em></a>. <a href="#lst-pg" class="quarto-xref">Listing&nbsp;3</a> zeigt die Kodierung des vollständigen Beispiel-Graphen im PG-Format. Die Standardisierung beinhaltet äquivalente Kodierungen in JSON (PG-JSON und PG-JSONL).</p>
<div id="lst-pg" class="pg listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-pg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3: Beispiel-Graph im PG Format
</figcaption>
<div aria-describedby="lst-pg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="lst-pg"><pre class="sourceCode pg code-with-copy"><code class="sourceCode pg"><span id="lst-pg-1"><a href="#lst-pg-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Knoten mit Knoten-Label und Eigenschaften</span></span>
<span id="lst-pg-2"><a href="#lst-pg-2" aria-hidden="true" tabindex="-1"></a>Padmé  <span class="dt">:person</span>  <span class="fu">gender:</span><span class="st">female</span></span>
<span id="lst-pg-3"><a href="#lst-pg-3" aria-hidden="true" tabindex="-1"></a>Anakin <span class="dt">:person</span>  <span class="fu">gender:</span><span class="st">male</span>                 </span>
<span id="lst-pg-4"><a href="#lst-pg-4" aria-hidden="true" tabindex="-1"></a>Luke   <span class="dt">:person</span>  <span class="fu">gender:</span><span class="st">male</span>                 </span>
<span id="lst-pg-5"><a href="#lst-pg-5" aria-hidden="true" tabindex="-1"></a>R2D2   <span class="dt">:robot</span>              </span>
<span id="lst-pg-6"><a href="#lst-pg-6" aria-hidden="true" tabindex="-1"></a><span class="co">   </span></span>
<span id="lst-pg-7"><a href="#lst-pg-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Kanten mit Kanten-Label und Eigenschaften</span></span>
<span id="lst-pg-8"><a href="#lst-pg-8" aria-hidden="true" tabindex="-1"></a>Padmé  <span class="cf">-&gt;</span> R2D2   <span class="dt">:owns</span>      <span class="fu">episode:</span><span class="dv">1</span></span>
<span id="lst-pg-9"><a href="#lst-pg-9" aria-hidden="true" tabindex="-1"></a>Padmé  <span class="cf">--</span> Anakin <span class="dt">:marriage</span>  <span class="fu">episode:</span><span class="dv">2</span></span>
<span id="lst-pg-10"><a href="#lst-pg-10" aria-hidden="true" tabindex="-1"></a>Anakin <span class="cf">-&gt;</span> R2D2   <span class="dt">:owns</span>      <span class="fu">episode:</span><span class="dv">2</span>    </span>
<span id="lst-pg-11"><a href="#lst-pg-11" aria-hidden="true" tabindex="-1"></a>Anakin <span class="cf">-&gt;</span> Luke   <span class="dt">:child</span>     <span class="fu">episode:</span><span class="dv">3</span></span>
<span id="lst-pg-12"><a href="#lst-pg-12" aria-hidden="true" tabindex="-1"></a>Padmé  <span class="cf">-&gt;</span> Luke   <span class="dt">:child</span>     <span class="fu">episode:</span><span class="dv">3</span> </span>
<span id="lst-pg-13"><a href="#lst-pg-13" aria-hidden="true" tabindex="-1"></a>Luke   <span class="cf">-&gt;</span> R2D2   <span class="dt">:owns</span>      <span class="fu">episode:</span><span class="dv">4</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<p>Sie wird durch die Implementierung der Programmbibliothek <a href="https://www.npmjs.com/package/pgraphs">pgraphs</a> zur Konvertierung zwischen verschiedenen Graph-Formaten und Datenbanksystemen begleitet. So wurde der Beispielgraph in Neo4J in <a href="#lst-cypher" class="quarto-xref">Listing&nbsp;1</a> automatisch mit dem Aufruf <code>pgraph -t cypher -i name star-wars.pg</code> aus <a href="#lst-pg" class="quarto-xref">Listing&nbsp;3</a> erzeugt.</p>
</section>
<section id="vergleich-mit-rdf" class="level2">
<h2 class="anchored" data-anchor-id="vergleich-mit-rdf">Vergleich mit RDF</h2>
<p>Das <em>Resource Description Framework</em> (RDF) ist ein alternatives Graph-basiertes Datenmodell, das zusammen mit Konzepten wie Linked Data und Semantic seit Jahrzehnten propagiert wird. Rein formal bestehen Daten auch im RDF-Modell aus Knoten und Kanten, wobei Knoten als “Ressourcen” und Kanten als “Triples” bezeichnet werden. Kanten-Label heißen in RDF “Properties”, Entsprechungen zu Knoten-Label und Eigenschaften gibt dagegen nicht.</p>
<p>Abgesehen von formalen Unterschieden, die sich durch Datenkonvertierung weitgehend überbrücken lassen, ist es hilfreich die unterschiedlichen Motivationen zu verstehen, aus denen RDF und Property Graphen jeweils entstanden sind: RDF ist grundsätzlich ein Austauschformat zum Publizieren und Zusammenführen von Daten. Den Grundstein bilden die übergreifend nutzbaren <em>Uniform Resource Identifier</em> (URIs) zur weltweit eindeutigen Identifizierung von Konzepten. Bei Property-Graphen geht es dagegen primär um die effiziente Speicherung und Auswertung von vernetzten Daten in einer abgeschlossenen Datenbank.</p>
<p>Zum Vergleich zeigt <a href="#lst-ttl" class="quarto-xref">Listing&nbsp;4</a> den Beispiel-Graphen in RDF-Turtle-Syntax und <a href="#lst-sparql" class="quarto-xref">Listing&nbsp;5</a> die Entsprechung der ersten Cypher-Abfrage aus <a href="#lst-match" class="quarto-xref">Listing&nbsp;2</a> in der RDF-eigenen Abfragesprache SPARQL. Die Rolle der Knoten-Labels und Knoten-Eigenschaften übernehmen in RDF zusätzliche Kanten. Die Kanten-Eigenschaften und ungerichtete Kanten sind in diesem Beispiel dagegen weggelassen, weil ihre Entsprechung in RDF etwas komplexer zu modellieren ist. Obwohl der RDF-Graph (<a href="#fig-rdf-image" class="quarto-xref">Abbildung&nbsp;2</a>) weniger Informationen enthält, ist er im Vergleich zu <a href="#fig-image" class="quarto-xref">Abbildung&nbsp;1</a> etwas unübersichtlicher.</p>
<div id="lst-ttl" class="ttlr listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ttl-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;4: Beispiel-Graph in RDF/Turtle (ohne Kanten-Eigenschaften)
</figcaption>
<div aria-describedby="lst-ttl-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-ttl" class="ttlr"><code>&lt;Padmé&gt;  a &lt;person&gt; ; &lt;gender&gt; "female" .
&lt;Anakin&gt; a &lt;person&gt; ; &lt;gender&gt; "male" .
&lt;Luke&gt;   a &lt;person&gt; ; &lt;gender&gt; "male" .
&lt;R2D2&gt;   a &lt;robot&gt; .

&lt;Padmé&gt;  &lt;owns&gt; &lt;R2D2&gt; .
&lt;Anakin&gt; &lt;owns&gt; &lt;R2D2&gt; .
&lt;Anakin&gt; &lt;child&gt; &lt;Luke&gt; .
&lt;Padmé&gt; &lt;child&gt; &lt;Luke&gt; .
&lt;Luke&gt;  &lt;owns&gt; &lt;R2D2&gt; .</code></pre>
</div>
</figure>
</div>
<div id="lst-sparql" class="sparql listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-sparql-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;5: SPARQL-Abfrage
</figcaption>
<div aria-describedby="lst-sparql-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-sparql" class="sparql"><code># Wer sind die Eltern der Person Luke?
SELECT ?p { ?p &lt;child&gt; &lt;Luke&gt; . &lt;Luke&gt; a &lt;person&gt; }</code></pre>
</div>
</figure>
</div>
<div class="cell" data-fig-width="3" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-rdf-image" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rdf-image-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-rdf-image">flowchart LR
   male([male])
   female([female])
   Padmé -- a --&gt; person
   Anakin -- a --&gt; person
   R2D2 -- a --&gt; robot 
   Padmé -- owns --&gt; R2D2
   Anakin -- owns --&gt; R2D2
   Anakin -- child --&gt; Luke
   Padmé -- child --&gt; Luke
   Padmé -- gender --&gt; female
   Luke -- gender --&gt; male
   Anakin -- gender --&gt; male
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rdf-image-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2: Visualisierung des Beispiel-Graphen in RDF
</figcaption>
</figure>
</div>
</div>
</div>
<p>Mit der kommenden Version RDF 1.2 (auch <em>RDF-star</em>) können RDF-Triple mit weiteren Tripeln angereichert werden, so dass eine direkte Entsprechung zu Kanten-Eigenschaften möglich wäre (siehe <a href="#lst-ttl2" class="quarto-xref">Listing&nbsp;6</a> und <a href="#lst-sparql2" class="quarto-xref">Listing&nbsp;7</a>). Abgesehen von der begrenzten Unterstützung dieser Erweiterung in RDF-Werkzeugen werden Daten mit RDF-star allerdings nicht unbedingt übersichtlicher.</p>
<div id="lst-ttl2" class="ttlr listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ttl2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6: Kanten des Beispiel-Graph in RDF/Turtle 1.2
</figcaption>
<div aria-describedby="lst-ttl2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-ttl2" class="ttlr"><code>&lt;Padmé&gt;  &lt;owns&gt; &lt;R2D2&gt;   {| &lt;episode&gt; 1 |} .
&lt;Anakin&gt; &lt;owns&gt; &lt;R2D2&gt;   {| &lt;episode&gt; 2 |} .   
&lt;Anakin&gt; &lt;parent&gt; &lt;Luke&gt; {| &lt;episode&gt; 3 |} .
&lt;Padmé&gt; &lt;parent&gt; &lt;Luke&gt;  {| &lt;episode&gt; 3 |} .
&lt;Luke&gt;  &lt;owns&gt; &lt;R2D2&gt;    {| &lt;episode&gt; 4 |} .</code></pre>
</div>
</figure>
</div>
<div id="lst-sparql2" class="sparql listing quarto-float">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-sparql2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;7: SPARQL 1.2 Abfrage
</figcaption>
<div aria-describedby="lst-sparql2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="lst-sparql2" class="sparql"><code># Wer sind die Besitzer von R2D2 ab Episode 2?
SELECT ?p {  
  BIND( &lt;&lt; ?p &lt;owns&gt; &lt;R2D2&gt; &gt;&gt; AS ?e )
  FILTER ( e.episode &gt;= 2 )
}</code></pre>
</div>
</figure>
</div>
<p>Die wesentlichen Unterschiede von RDF und Property-Graphen sind in <a href="#tbl-rdf-pg" class="quarto-xref">Tabelle&nbsp;1</a> zusammengefasst. Grundsätzlich ist RDF vor allem für die Zusammenführung von Daten aus unterschiedlichen Quellen sinnvoll. RDF-Daten werden daher tendenziell eher projektübergreifend und nachnutzbar angelegt. Dieser Vorteil birgt in der Praxis allerdings auch die Gefahr von langwierigen Prozessen und theoretischen, komplexeren Lösungen.</p>
<div id="tbl-rdf-pg" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rdf-pg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;1: RDF und Property-Graphen im Vergleich
</figcaption>
<div aria-describedby="tbl-rdf-pg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 47%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th>RDF</th>
<th>Property Graphen</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Graph aus Knoten und Kanten</td>
<td>Graph aus Knoten, Kanten und Eigenschaften</td>
</tr>
<tr class="even">
<td>Etabliert durch das W3C</td>
<td>Standardisierung noch nicht abgeschlossen</td>
</tr>
<tr class="odd">
<td>Identifier sind globale URIs</td>
<td>Interne oder lokale Knoten-Identifier</td>
</tr>
<tr class="even">
<td>Globale Ontologien und Regeln</td>
<td>Lokale Datenbank-Schemas</td>
</tr>
<tr class="odd">
<td>Abfragesprache SPARQL</td>
<td>Abfragesprache Cypher</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="property-graphen-an-der-vzg" class="level2">
<h2 class="anchored" data-anchor-id="property-graphen-an-der-vzg">Property Graphen an der VZG</h2>
<p>An der VZG werden Property-Graphen vor allem im Projekt <a href="https://www.nfdi4objects.net/">NFDI4Objects</a> eingesetzt. Darüber hinaus sollen Sacherschließungsdaten des K10plus für Analysen in einer Graphdatenbank indexiert werden. In beiden Fällen ist das Ergebnis ein sogenannter <em>Knowledge Graph</em>. Für die Integration mit anderen Datenquellen sollen beide Knowledge Graphen auch in RDF bereitgestellt und RDF-Daten durch Konvertierung in das PG-Format mit Property-Graphen zusammengeführt werden.</p>
</section>
<section id="zusammenfassung" class="level2">
<h2 class="anchored" data-anchor-id="zusammenfassung">Zusammenfassung</h2>
<p>Property-Graphen bilden ein flexibles und nicht zu kompliziertes Werkzeug zur Strukturierung, Speicherung und Auswertung vernetzter Daten. Im Gegensatz zu RDF sind Property Graphen allerdings nicht als allgemeines Austauschformat gedacht. Die VZG setzt Property-Graphen für Datenanalysen ein und ist an der laufenden Standardisierung beteiligt.</p>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Zitat</h2><div><div class="quarto-appendix-secondary-label">Mit BibTeX zitieren:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@misc{voß2024,
  author = {Voß, Jakob},
  title = {Property-Graphen: eine kurze Einführung},
  volume = {2024},
  number = {1},
  date = {2024-04-24},
  url = {https://jakobib.github.io/pgraphen2024/},
  doi = {10.5281/zenodo.10971391},
  langid = {de}
}
</code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">Bitte zitieren Sie diese Arbeit als:</div><div id="ref-voß2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Voß, Jakob. 2024. <span>“Property-Graphen: eine kurze
Einführung.”</span> <em>VZG Aktuell</em>. <a href="https://doi.org/10.5281/zenodo.10971391">https://doi.org/10.5281/zenodo.10971391</a>.
</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>